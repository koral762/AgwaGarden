{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useImageDimensions = void 0;\nvar react_1 = require(\"react\");\nvar react_native_1 = require(\"react-native-web/dist/index\");\nfunction useImageDimensions(source, headers) {\n  var _a = react_1.useState({\n      loading: true\n    }),\n    result = _a[0],\n    setResult = _a[1];\n  react_1.useEffect(function () {\n    try {\n      if (typeof source === 'number') {\n        var _a = react_native_1.Image.resolveAssetSource(source),\n          width = _a.width,\n          height = _a.height;\n        setResult({\n          dimensions: {\n            width: width,\n            height: height,\n            aspectRatio: width / height\n          },\n          loading: false\n        });\n        return;\n      }\n      if (typeof source === 'object' && source.uri) {\n        setResult({\n          loading: true\n        });\n        if (typeof headers === 'object') {\n          react_native_1.Image.getSizeWithHeaders(source.uri, headers, function (width, height) {\n            return setResult({\n              dimensions: {\n                width: width,\n                height: height,\n                aspectRatio: width / height\n              },\n              loading: false\n            });\n          }, function (error) {\n            return setResult({\n              error: error,\n              loading: false\n            });\n          });\n        } else {\n          react_native_1.Image.getSize(source.uri, function (width, height) {\n            return setResult({\n              dimensions: {\n                width: width,\n                height: height,\n                aspectRatio: width / height\n              },\n              loading: false\n            });\n          }, function (error) {\n            return setResult({\n              error: error,\n              loading: false\n            });\n          });\n        }\n        return;\n      }\n      throw new Error('not implemented');\n    } catch (error) {\n      setResult({\n        error: error,\n        loading: false\n      });\n    }\n  }, [typeof source === 'object' ? source.uri : source, headers]);\n  return result;\n}\nexports.useImageDimensions = useImageDimensions;","map":{"version":3,"mappings":";;;;;;AAAA;AAAyC;AA0BzC,SAAgBA,kBAAkB,CAChCC,MAA6B,EAC7BC,OAAmC;EAE7B,SAAsBC,gBAAQ,CAAwB;MAACC,OAAO,EAAE;IAAI,CAAC,CAAC;IAArEC,MAAM;IAAEC,SAAS,QAAoD;EAE5EH,iBAAS,CAAC;IACR,IAAI;MACF,IAAI,OAAOF,MAAM,KAAK,QAAQ,EAAE;QACxB,SAAkBM,oBAAK,CAACC,kBAAkB,CAACP,MAAM,CAAC;UAAjDQ,KAAK;UAAEC,MAAM,YAAoC;QAExDJ,SAAS,CAAC;UACRK,UAAU,EAAE;YAACF,KAAK;YAAEC,MAAM;YAAEE,WAAW,EAAEH,KAAK,GAAGC;UAAM,CAAC;UACxDN,OAAO,EAAE;SACV,CAAC;QAEF;;MAGF,IAAI,OAAOH,MAAM,KAAK,QAAQ,IAAIA,MAAM,CAACY,GAAG,EAAE;QAC5CP,SAAS,CAAC;UAACF,OAAO,EAAE;QAAI,CAAC,CAAC;QAE1B,IAAI,OAAOF,OAAO,KAAK,QAAQ,EAAE;UAC/BK,oBAAK,CAACO,kBAAkB,CACtBb,MAAM,CAACY,GAAG,EACVX,OAAO,EACP,UAACO,KAAK,EAAEC,MAAM;YACZ,gBAAS,CAAC;cACRC,UAAU,EAAE;gBAACF,KAAK;gBAAEC,MAAM;gBAAEE,WAAW,EAAEH,KAAK,GAAGC;cAAM,CAAC;cACxDN,OAAO,EAAE;aACV,CAAC;UAHF,CAGE,EACJ,UAACW,KAAK;YAAK,gBAAS,CAAC;cAACA,KAAK;cAAEX,OAAO,EAAE;YAAK,CAAC,CAAC;UAAlC,CAAkC,CAC9C;SACF,MAAM;UACLG,oBAAK,CAACS,OAAO,CACXf,MAAM,CAACY,GAAG,EACV,UAACJ,KAAK,EAAEC,MAAM;YACZ,gBAAS,CAAC;cACRC,UAAU,EAAE;gBAACF,KAAK;gBAAEC,MAAM;gBAAEE,WAAW,EAAEH,KAAK,GAAGC;cAAM,CAAC;cACxDN,OAAO,EAAE;aACV,CAAC;UAHF,CAGE,EACJ,UAACW,KAAK;YAAK,gBAAS,CAAC;cAACA,KAAK;cAAEX,OAAO,EAAE;YAAK,CAAC,CAAC;UAAlC,CAAkC,CAC9C;;QAGH;;MAGF,MAAM,IAAIa,KAAK,CAAC,iBAAiB,CAAC;KACnC,CAAC,OAAOF,KAAK,EAAE;MACdT,SAAS,CAAC;QAACS,KAAK;QAAEX,OAAO,EAAE;MAAK,CAAC,CAAC;;EAGtC,CAAC,EAAE,CAAC,OAAOH,MAAM,KAAK,QAAQ,GAAGA,MAAM,CAACY,GAAG,GAAGZ,MAAM,EAAEC,OAAO,CAAC,CAAC;EAE/D,OAAOG,MAAM;AACf;AAxDAa","names":["useImageDimensions","source","headers","react_1","loading","result","setResult","react_native_1","resolveAssetSource","width","height","dimensions","aspectRatio","uri","getSizeWithHeaders","error","getSize","Error","exports"],"sourceRoot":"","sources":["../src/useImageDimensions.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}