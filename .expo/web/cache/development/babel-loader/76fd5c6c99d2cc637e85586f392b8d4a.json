{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport { useSelector } from 'react-redux';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar SaveOrder = function SaveOrder(_ref) {\n  var navigation = _ref.navigation;\n  var quantityLimit = useSelector(function (store) {\n    return store.orderPlantsReducer.quantityLimit;\n  });\n  var selectedPlants = useSelector(function (store) {\n    return store.orderPlantsReducer.selectedPlants;\n  });\n  var currentUser = useSelector(function (store) {\n    return store.usersReducer.currentUser;\n  });\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    modalIsOpen = _useState2[0],\n    setModalIsOpen = _useState2[1];\n  function orderSaved() {\n    navigation.navigation.navigate('Home');\n    var user = currentUser;\n    var order = {\n      name: user.name,\n      email: user.email,\n      phoneNumber: user.phoneNumber,\n      address: user.address,\n      plants: selectedPlants\n    };\n    var requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(order)\n    };\n    var postOrder = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        try {\n          yield fetch('http://localhost:3000/send-data', requestOptions).then(function (response) {\n            response.json().then(function (data) {\n              Alert.alert(\"Post created at : \", data.createdAt);\n            });\n          });\n        } catch (error) {\n          console.error(error);\n        }\n      });\n      return function postOrder() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    postOrder();\n    setModalIsOpen(true);\n    setTimeout(function () {\n      setModalIsOpen(false);\n    }, 2000);\n  }\n  return _jsxs(View, {\n    children: [modalIsOpen && _jsx(Modal, {\n      style: styles.orderSavedConfirmation,\n      children: _jsxs(View, {\n        style: styles.confirmationTextContainer,\n        children: [_jsx(Image, {\n          source: {\n            uri: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQIdIRwDn1RQRGTNfIW1RhcgoN5kMaT5WJkmONB_upI4BOCkAdDSxbxGxim6T1gj6ekCes&usqp=CAU'\n          },\n          style: {\n            width: 60,\n            height: 60\n          }\n        }), _jsx(Text, {\n          style: {\n            fontWeight: 'bold',\n            fontSize: 22\n          },\n          children: \"Awesome!\"\n        }), _jsx(Text, {\n          style: {\n            fontSize: 20\n          },\n          children: \"Your order is complete!\"\n        })]\n      })\n    }), _jsx(View, {\n      style: quantityLimit === 5 ? styles.buttonContainer : styles.buttonContainerdisabled,\n      children: _jsx(TouchableOpacity, {\n        style: styles.button,\n        disabled: quantityLimit !== 5,\n        onPress: function onPress() {\n          orderSaved();\n        },\n        children: _jsx(Text, {\n          style: {\n            fontWeight: 'bold',\n            height: 30\n          },\n          children: \"SAVE CHANGES\"\n        })\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  orderSavedConfirmation: {\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  confirmationTextContainer: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  buttonContainer: {\n    width: '100%',\n    height: 50,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 75\n  },\n  buttonContainerdisabled: {\n    width: '100%',\n    height: 50,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 75,\n    opacity: 0.5\n  },\n  button: {\n    width: '80%',\n    height: '80%',\n    borderRadius: 8,\n    padding: 10,\n    paddingTop: 20,\n    marginBottom: 50,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: \"rgba(148,217,234,1)\"\n  }\n});\nexport default SaveOrder;","map":{"version":3,"names":["React","useState","useSelector","SaveOrder","navigation","quantityLimit","store","orderPlantsReducer","selectedPlants","currentUser","usersReducer","modalIsOpen","setModalIsOpen","orderSaved","navigate","user","order","name","email","phoneNumber","address","plants","requestOptions","method","headers","body","JSON","stringify","postOrder","fetch","then","response","json","data","Alert","alert","createdAt","error","console","setTimeout","styles","orderSavedConfirmation","confirmationTextContainer","uri","width","height","fontWeight","fontSize","buttonContainer","buttonContainerdisabled","button","StyleSheet","create","justifyContent","alignItems","flex","marginTop","opacity","borderRadius","padding","paddingTop","marginBottom","backgroundColor"],"sources":["C:/Users/PC/Desktop/projects/agwa/KoralApp/app/comps/SaveOrder.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Image, StyleSheet, Text, TouchableOpacity, View, Modal } from 'react-native';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst SaveOrder = ({ navigation }) => {\r\n\r\n    const quantityLimit = useSelector(store => store.orderPlantsReducer.quantityLimit);\r\n    const selectedPlants = useSelector(store => store.orderPlantsReducer.selectedPlants);\r\n    const currentUser = useSelector(store => store.usersReducer.currentUser);\r\n    const [modalIsOpen, setModalIsOpen] = useState(false);\r\n\r\n    function orderSaved() {\r\n\r\n        navigation.navigation.navigate('Home');\r\n\r\n        const user = currentUser;\r\n\r\n        const order = {\r\n            name: user.name,\r\n            email: user.email,\r\n            phoneNumber: user.phoneNumber,\r\n            address: user.address,\r\n            plants: selectedPlants\r\n        }\r\n\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(order)\r\n        };\r\n\r\n        const postOrder = async () => {\r\n            try {\r\n                await fetch(\r\n                    'http://localhost:3000/send-data', requestOptions)\r\n                    .then(response => {\r\n                        response.json()\r\n                            .then(data => {\r\n                                Alert.alert(\"Post created at : \",\r\n                                    data.createdAt);\r\n                            });\r\n                    })\r\n            }\r\n            catch (error) {\r\n                console.error(error);\r\n            }\r\n        }\r\n\r\n        postOrder();\r\n\r\n        setModalIsOpen(true);\r\n        setTimeout(() => {\r\n            setModalIsOpen(false);\r\n        }, 2000);\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <View>\r\n            {modalIsOpen && <Modal style={styles.orderSavedConfirmation}>\r\n                <View style={styles.confirmationTextContainer}>\r\n                    <Image\r\n                        source={{\r\n                            uri: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQIdIRwDn1RQRGTNfIW1RhcgoN5kMaT5WJkmONB_upI4BOCkAdDSxbxGxim6T1gj6ekCes&usqp=CAU',\r\n                        }} style={{ width: 60, height: 60 }}></Image>\r\n                    <Text style={{ fontWeight: 'bold', fontSize: 22 }}>Awesome!</Text>\r\n                    <Text style={{ fontSize: 20 }}>Your order is complete!</Text>\r\n                </View>\r\n            </Modal>}\r\n\r\n            <View style={(quantityLimit === 5) ? styles.buttonContainer : styles.buttonContainerdisabled}>\r\n                <TouchableOpacity style={styles.button} disabled={quantityLimit !== 5} onPress={() => {\r\n                    orderSaved()\r\n                }} >\r\n                    <Text style={{ fontWeight: 'bold', height: 30 }}>SAVE CHANGES</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n\r\n        </View>\r\n    )\r\n}\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n    orderSavedConfirmation: {\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\"\r\n    },\r\n    confirmationTextContainer: {\r\n        flex: 1,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        marginTop: 22,\r\n    },\r\n    buttonContainer: {\r\n        width: '100%',\r\n        height: 50,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        marginTop: 75,\r\n    },\r\n    buttonContainerdisabled: {\r\n        width: '100%',\r\n        height: 50,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        marginTop: 75,\r\n        opacity: 0.5,\r\n    },\r\n    button: {\r\n        width: '80%',\r\n        height: '80%',\r\n        borderRadius: 8,\r\n        padding: 10,\r\n        paddingTop: 20,\r\n        marginBottom: 50,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: \"rgba(148,217,234,1)\"\r\n    },\r\n})\r\n\r\nexport default SaveOrder;"],"mappings":"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"},"metadata":{},"sourceType":"module"}